<form action="." tal:attributes="action request/URL" method="post"
      enctype="multipart/form-data">

  <h1 tal:condition="view/label"
      tal:content="view/label">Label</h1>

  <p tal:condition="view/description"
     tal:content="view/description">Description</p>

  <p class="form-status"
     tal:condition="view/status"
     tal:content="view/status">Status</p>

  <dl class="form-error"
     tal:condition="view/errors">
    <dt>There were errors:</dt>
    <tal:error tal:define="formErrors view/submissionError"
               tal:condition="formErrors">
      <dd tal:repeat="error formErrors">
	<span tal:content="error/identifier" />:
	<span tal:content="error/title" />
      </dd>
    </tal:error>
  </dl>

  <fieldset tal:omit-tag="not: view/actionWidgets">
    <div class="fields"
	 tal:condition="view/fieldWidgets">
      <div class="field" tal:repeat="widget view/fieldWidgets">
	<label class="field-label" for="#"
	       tal:attributes="for widget/htmlId"
	       tal:content="widget/title">
	  Label
	</label>
	<span class="field-required"
	      tal:condition="widget/required"><span>(required)</span></span>
	<br />
	<tal:description tal:condition="widget/description">
	  <span class="field-description"
		tal:content="widget/description">
	    </span><br />
	</tal:description>
	<tal:error tal:define="error widget/error"
		   tal:condition="error">
	  <span class="field-error"
		tal:content="error/title">
	    Error
	  </span>
	</tal:error>
	<div class="widget">
	  <tal:widget tal:content="structure widget/render" />
	</div>
      </div>
    </div>

    <div class="actions"
	 tal:condition="view/actionWidgets">
      <tal:widget repeat="widget view/actionWidgets"
		  content="structure widget/render" />
    </div>
  </fieldset>

</form>
